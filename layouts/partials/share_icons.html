{{- $pageurl := .Permalink }}
{{- $title := .Title }}

{{- $.Scratch.Set "tags" ""}}

{{- with .Params.Tags }}
{{- $hashtags := newScratch}}
{{- range . }}{{ $hashtags.Add "tags" (slice (replaceRE "(\\s)" "" . ))}}{{end}}
{{- $.Scratch.Set "tags" (delimit ($hashtags.Get "tags") ",") }}
{{- end -}}

{{- $custom := false }}
{{- $ShareButtons := (.Param "ShareButtons")}}
{{- with $ShareButtons }}{{ $custom = true }}{{ end }}

<ul class="share-buttons">
    {{- if (or (cond ($custom) (in $ShareButtons "x") (true)) (cond ($custom) (in $ShareButtons "github") (true))) }}
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share {{ $title | plainify }} on x"
            href="https://github.com/deigil/private-site">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path d="M256,0C114.616,0,0,114.616,0,256c0,113.267,73.219,209.013,175.009,242.918c12.795,2.354,17.463-5.555,17.463-12.341c0-6.102-0.23-22.238-0.365-43.657c-71.158,15.457-86.206-34.325-86.206-34.325c-11.603-29.478-28.317-37.364-28.317-37.364c-23.168-15.836,1.749-15.515,1.749-15.515c25.574,1.803,38.992,26.265,38.992,26.265c22.695,38.912,59.524,27.66,74.182,21.143c2.279-16.445,8.869-27.666,16.16-34.06c-56.754-6.451-116.466-28.366-116.466-126.141c0-27.891,9.996-50.714,26.275-68.624c-2.612-6.452-11.387-32.45,2.482-67.651c20.302-6.493,66.293,26.19,69.217,28.118c20.003-5.561,41.162-8.343,62.451-8.448c21.273,0.105,42.445,2.887,62.464,8.448c2.92-1.928,48.888-34.611,69.179-28.118c13.891,35.201,5.102,61.199,2.475,67.651c16.296,17.91,26.254,40.733,26.254,68.624c0,97.92-59.779,119.641-116.535,126.029c9.176,7.893,17.325,23.481,17.325,47.249c0,34.233-0.308,61.835-0.308,70.339c0,6.821,4.552,14.942,17.594,12.358C438.828,465.943,512,370.197,512,256C512,114.616,397.384,0,256,0z"/>
            </svg>
        </a>
    </li>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "linkedin") (true)) }}
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share {{ $title | plainify }} on linkedin"
            href="https://www.linkedin.com/in/dei-gil/">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "instagram") (true)) }}
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share {{ $title | plainify }} on reddit"
            href="https://www.instagram.com/deimantasg/">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path d="M391.8 512H120.2C53.9 512 0 458.1 0 391.8V120.2C0 53.9 53.9 0 120.2 0h271.6C458.1 0 512 53.9 512 120.2v271.6c0 66.3-53.9 120.2-120.2 120.2zM120.2 32C81.5 32 48 65.5 48 104.2v287.6c0 38.7 33.5 72.2 72.2 72.2h271.6c38.7 0 72.2-33.5 72.2-72.2V104.2C464 65.5 430.5 32 391.8 32H120.2z"/>
                <path d="M256 144c-57.3 0-104 46.7-104 104s46.7 104 104 104 104-46.7 104-104-46.7-104-104-104zm0 176c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80zM400 144c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"/>
            </svg>
        </a>
    </li>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "facebook") (true)) }}
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share {{ $title | plainify }} on facebook"
            href="https://facebook.com/deimsanic">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    {{- end }}
</ul>
